{
  "crate": {
    "name": "demo",
    "path": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/src/main.rs",
    "type": "Bin",
    "version": "0.1.0"
  },
  "specs": {
    "map": {
      "Alias": {
        "item": {
          "tag": {
            "args": [
              "p1",
              "p2"
            ],
            "desc": "`{p1}` must not have other alias",
            "expr": "p1 = p2",
            "types": [
              "hazard"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#342-alias"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "Align": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T"
            ],
            "desc": "pointer `{p}` must be properly aligned for type `{T}`",
            "expr": "p % alignment(T) = 0",
            "types": [
              "precond"
            ],
            "url": "https://doc.rust-lang.org/nightly/std/ptr/index.html#alignment"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "Alive": {
        "item": {
          "tag": {
            "args": [
              "p",
              "l"
            ],
            "desc": "the reference of `{p}` must outlive the lifetime `{l}`",
            "expr": "lifetime(∗ p) ≥ l",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#343-lifetime"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "Allocated": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T",
              "len",
              "A"
            ],
            "desc": "the memory range `[{p}, {p} + sizeof({T})*{len})` must be allocated by allocator `{A}`",
            "expr": "∀ i ∈ 0..sizeof(T)∗len, allocator(p + i) = A",
            "types": [
              "precond"
            ],
            "url": "https://doc.rust-lang.org/nightly/std/ptr/index.html#allocation"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Deref": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T",
              "len"
            ],
            "desc": "pointer `{p}` must be dereferencable in the `sizeof({T})*{len}` memory from it",
            "expr": "Allocated(p, T, len, *) && InBound(p, T, len)",
            "types": [
              "precond"
            ],
            "url": "https://doc.rust-lang.org/std/ptr/index.html#safety"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "InBound": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T",
              "len"
            ],
            "desc": "the pointer `{p}` and its offset up to `sizeof({T})*{len}` must point to a single allocated object",
            "expr": "mem(p, p+ sizeof(T) * len) ∈ single allocated object",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#321-allocation"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Init": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T",
              "len"
            ],
            "desc": "the memory range `[{p}, {p} + sizeof({T})*{len}]` must be fully initialized for type `{T}`",
            "expr": "∀ i ∈ 0..len, mem(p + sizeof(T) * i, p + sizeof(T) * (i+1)) = valid(T)",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#333-initialization"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "Layout": {
        "item": {
          "tag": {
            "args": [
              "p",
              "layout"
            ],
            "desc": "the memory pointed by `{p}` must remain consistent with `{layout}`",
            "expr": "ValidNum(rem(p, layout.align), 0) && Allocated(p, u8, layout.size, heap)",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#22-compound-sps-used-in-rustdoc"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "NoPadding": {
        "item": {
          "tag": {
            "args": [
              "T"
            ],
            "desc": "type `{T}` must have no padding bytes",
            "expr": "padding(T) != 0",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#313-padding"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "NonNull": {
        "item": {
          "tag": {
            "args": [
              "p"
            ],
            "desc": "pointer `{p}` must not be null",
            "expr": "p != 0",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#32-pointer-validity"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "NonOverlap": {
        "item": {
          "tag": {
            "args": [
              "dst",
              "src",
              "T",
              "len"
            ],
            "desc": "the memory ranges `[{dst}, {dst} + sizeof({T})*{len})` and `[{src}, {src} + sizeof({T})*{len}]` must not overlap",
            "expr": "|dst - src| ≥ sizeof(T) * len",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#321-allocation"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "NonOwned": {
        "item": {
          "tag": {
            "args": [
              "p"
            ],
            "desc": "the pointer `{p}` doesn't hold exclusive ownership of its reference",
            "expr": "ownership(*p) = none",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#341-onwership"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "NonVolatile": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T",
              "len"
            ],
            "desc": "the memory access of `[{p}, {p} + sizeof({T})*{len}]` must be volatile",
            "expr": "∄ another thread tid, tid.write(p, p+sizeof(T)*len)",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#352-volatility"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Opened": {
        "item": {
          "tag": {
            "args": [
              "fd"
            ],
            "desc": "the file descriptor `{fd}` must be valid and open",
            "expr": "∃ openfile()->fd && ∄ closefile(fd)",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#353-opened-file"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Owning": {
        "item": {
          "tag": {
            "args": [
              "p"
            ],
            "desc": "the pointer `{p}` must hold exclusive ownership of its reference",
            "expr": "ownership(*p) != none",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#341-onwership"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Pinned": {
        "item": {
          "tag": {
            "args": [
              "p",
              "l"
            ],
            "desc": "pointer `{p}` must remain at the same memory address for the duration of lifetime `{l}`",
            "expr": "∀ t ∈ 0..l, &(∗p)0 = pt",
            "types": [
              "hazard"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#351-pin"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Ptr2Ref": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T"
            ],
            "desc": "the reference conversion of the pointer `{p}` must be valid",
            "expr": "Init(p, T, 1) && Align(p, T) && Alias(p, 0)",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#22-compound-sps-used-in-rustdoc"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "RustdocLinkToItem": {
        "item": {
          "tag": {
            "args": [
              "item"
            ],
            "desc": "[`{item}`]",
            "expr": null,
            "types": [
              "precond"
            ],
            "url": null
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-demo.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Size": {
        "item": {
          "tag": {
            "args": [
              "T",
              "c"
            ],
            "desc": "the size of type `{T}` should be `{c}`",
            "expr": "sizeof(T) = c, c ∈ {num, unknown, any}",
            "types": [
              "option"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#312-size"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Trait": {
        "item": {
          "tag": {
            "args": [
              "T",
              "trait",
              "property"
            ],
            "desc": "if type `{T}` implements trait `{trait}`, the property `{property}` is mitigated",
            "expr": "trait ∈ traitimpl(T)",
            "types": [
              "option"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#354-trait"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Typed": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T"
            ],
            "desc": "the pointer `{p}` must point to a value of `{T}`",
            "expr": "typeof(*p) = T",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#334-unwrap"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Unreachable": {
        "item": {
          "tag": {
            "args": [],
            "desc": "the current program point should not be reachable during execution",
            "expr": "sat(cond()) = false",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#355-unreachable"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "Unwrap": {
        "item": {
          "tag": {
            "args": [
              "x",
              "T",
              "target"
            ],
            "desc": "the value `{x}` must be `Some({T})`",
            "expr": "unwrap(x) = T",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#334-unwrap"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "ValidCStr": {
        "item": {
          "tag": {
            "args": [
              "p",
              "len"
            ],
            "desc": "the memory range `[{p}, {p} + {len} + 1]` must contain a valid C-style string",
            "expr": "mem(p+len, p+len+1) = '\\0'",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#332-string"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      },
      "ValidNum": {
        "item": {
          "tag": {
            "args": [
              "exp",
              "vrange"
            ],
            "desc": "the value of `{exp}` must lie within the valid `{vrange}`",
            "expr": "exp ∈ vrange",
            "types": [
              "precond"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#331-integer"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "ValidPtr": {
        "item": {
          "tag": {
            "args": [
              "p",
              "T",
              "len"
            ],
            "desc": "pointer `{p}` must be valid for reading and writing the `sizeof({T})*{len}` memory from it",
            "expr": "Size(T, 0) || (!Size(T,0) && Deref(p, T, len))",
            "types": [
              "precond"
            ],
            "url": "https://doc.rust-lang.org/std/ptr/index.html#safety"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {
            "Vanilla": 2
          },
          "predicates": {
            "Requires": 2
          }
        }
      },
      "ValidString": {
        "item": {
          "tag": {
            "args": [
              "arange"
            ],
            "desc": "the memory range `{arange}` must contain valid UTF-8 bytes",
            "expr": "mem(arange) ∈ utf-8",
            "types": [
              "precond",
              "hazard"
            ],
            "url": "https://github.com/Artisan-Lab/tag-std/blob/main/primitive-sp.md#332-string"
          },
          "src": "/home/gh-zjp-CN/tag-std/safety-tool/tests/demo/safety-tags/sp-core.toml"
        },
        "usage": {
          "types": {},
          "predicates": {}
        }
      }
    },
    "doc": {
      "heading_safety_title": true,
      "heading_tag": true
    }
  },
  "funcs": [
    {
      "name": "main",
      "tags": [],
      "path": "src/main.rs",
      "span": "10:25",
      "unsafe_calls": [
        {
          "name": "demo::MyStruct::get",
          "tags": [
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "NonNull"
                  },
                  "args": [
                    "p"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "ValidPtr"
                  },
                  "args": [
                    "p",
                    "u8",
                    "l"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Init"
                  },
                  "args": [
                    "p",
                    "u8",
                    "l"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Alive"
                  },
                  "args": [
                    "p",
                    "l"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Alias"
                  },
                  "args": [
                    "p"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Align"
                  },
                  "args": [
                    "p",
                    "u8"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "ValidNum"
                  },
                  "args": [
                    "l",
                    "[0 , isize :: MAX]"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "NonNull"
                  },
                  "args": [
                    "p"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "ValidPtr"
                  },
                  "args": [
                    "p",
                    "u8",
                    "l"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Init"
                  },
                  "args": [
                    "p",
                    "u8",
                    "l"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Alive"
                  },
                  "args": [
                    "p",
                    "l"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Alias"
                  },
                  "args": [
                    "p"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "Align"
                  },
                  "args": [
                    "p",
                    "u8"
                  ]
                }
              },
              "doc": null
            },
            {
              "predicate": "Requires",
              "tag": {
                "Vanilla": {
                  "tag": {
                    "typ": null,
                    "name": "ValidNum"
                  },
                  "args": [
                    "l",
                    "[0 , isize :: MAX]"
                  ]
                }
              },
              "doc": null
            }
          ],
          "path": "src/main.rs",
          "span": "23",
          "unsafe_calls": []
        }
      ]
    }
  ],
  "metrics": {
    "total_tags": 27,
    "used_tags": 7,
    "used": {
      "Alias": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      },
      "Align": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      },
      "Alive": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      },
      "Init": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      },
      "NonNull": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      },
      "ValidNum": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      },
      "ValidPtr": {
        "occurence": 4,
        "as_vanilla": 2,
        "in_any": 0,
        "requires": 2,
        "checked": 0,
        "delegated": 0
      }
    },
    "coverage": {
      "occurence": 28,
      "as_vanilla": 14,
      "in_any": 0,
      "requires": 14,
      "checked": 0,
      "delegated": 0
    },
    "unused": [
      "Allocated",
      "Deref",
      "InBound",
      "Layout",
      "NoPadding",
      "NonOverlap",
      "NonOwned",
      "NonVolatile",
      "Opened",
      "Owning",
      "Pinned",
      "Ptr2Ref",
      "RustdocLinkToItem",
      "Size",
      "Trait",
      "Typed",
      "Unreachable",
      "Unwrap",
      "ValidCStr",
      "ValidString"
    ]
  }
}